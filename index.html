<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Happy coding and have fun, generated by pmvibecoding template - https://github.com/chenxizhang/pmvibecoding, empower every product manager on the planet to achieve more by building their product prototype with AI.">
    <title>Copilot Platform Nexus - Agent Lifecycle Management</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ü§ñ Copilot Platform Nexus</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="#" class="nav-link active" data-view="dashboard">üè† My Agents</a></li>
                <li><a href="#" class="nav-link" data-view="create">‚ûï Create Agent</a></li>
                <li><a href="#" class="nav-link" data-view="metrics">üìä Metrics</a></li>
                <li><a href="#" class="nav-link" data-view="playground">üß™ Evaluate Models</a></li>
                <li><a href="#" class="nav-link" data-view="tprompt">üí° Evaluate Prompts</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <h1 id="page-title">Agent Dashboard</h1>
                <div class="user-info">
                    <span>prakulka@microsoft.com</span>
                    <button class="btn-secondary">Feedback</button>
                </div>
            </header>

            <!-- Lifecycle Steps Bar -->
            <div class="lifecycle-bar">
                <div class="lifecycle-step active" data-step="create">
                    <div class="step-icon">üéØ</div>
                    <span>Create Agent</span>
                </div>
                <div class="lifecycle-step" data-step="configure">
                    <div class="step-icon">‚öôÔ∏è</div>
                    <span>Configure Agent</span>
                </div>
                <div class="lifecycle-step" data-step="evaluate">
                    <div class="step-icon">üß™</div>
                    <span>Evaluate Models</span>
                </div>
                <div class="lifecycle-step" data-step="evaluate-prompts">
                    <div class="step-icon">üí°</div>
                    <span>Evaluate Prompts</span>
                </div>
                <div class="lifecycle-step" data-step="deploy">
                    <div class="step-icon">üöÄ</div>
                    <span>Deploy</span>
                </div>
                <div class="lifecycle-step" data-step="monitor">
                    <div class="step-icon">üìà</div>
                    <span>Agent Metrics</span>
                </div>
            </div>

            <!-- Dashboard View -->
            <div id="dashboard-view" class="view active">
                <!-- No Agents State -->
                <div id="no-agents-state" class="no-agents-section" style="display: none;">
                    <div class="welcome-card">
                        <h2>üöÄ Create Your First Agent</h2>
                        <p>Start your agent journey with our guided lifecycle process</p>
                        <button class="btn-primary" onclick="showCreateView()">Create Your First Agent</button>
                    </div>

                    <!-- Agent Templates -->
                    <div class="templates-section">
                        <h3>Quick Start Templates</h3>
                        <div class="templates-grid">
                            <div class="template-card" onclick="agentManager.selectTemplate('sales')">
                                <div class="template-icon">üíº</div>
                                <h4>Sales Agent</h4>
                                <p>Lead qualification and customer engagement automation</p>
                                <button class="btn-outline">Use This Template</button>
                            </div>
                            <div class="template-card" onclick="agentManager.selectTemplate('research')">
                                <div class="template-icon">üîç</div>
                                <h4>Research Agent</h4>
                                <p>Data collection and analysis for informed decisions</p>
                                <button class="btn-outline">Use This Template</button>
                            </div>
                            <div class="template-card" onclick="agentManager.selectTemplate('opsgenie')">
                                <div class="template-icon">üõ†Ô∏è</div>
                                <h4>OpsGenie</h4>
                                <p>Incident management and operational workflows</p>
                                <button class="btn-outline">Use This Template</button>
                            </div>
                            <div class="template-card" onclick="agentManager.selectTemplate('support')">
                                <div class="template-icon">üéß</div>
                                <h4>Customer Support</h4>
                                <p>Automated ticket resolution and customer assistance</p>
                                <button class="btn-outline">Use This Template</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Existing Agents State -->
                <div id="agents-state" class="agents-section">
                    <!-- Quick Actions Bar -->
                    <div class="actions-bar">
                        <button class="btn-primary" onclick="showCreateView()">+ Onboard Agent</button>
                        <div class="search-filter">
                            <input type="text" placeholder="Search agents..." class="search-input">
                            <select class="filter-select">
                                <option value="">All Products</option>
                                <option value="M365">M365</option>
                                <option value="PowerPoint">PowerPoint</option>
                                <option value="Teams">Teams</option>
                            </select>
                            <button class="btn-secondary clear-filters" onclick="agentManager.clearFilters()">Clear</button>
                        </div>
                    </div>

                    <!-- Performance Overview Cards -->
                    <div class="metrics-overview">
                        <div class="metric-card clickable" onclick="agentManager.navigateToMetrics('engagement')">
                            <h4>Avg Engagement</h4>
                            <div class="metric-value" id="dashboard-engagement">2.4</div>
                            <div class="metric-change positive">‚Üó +12%</div>
                        </div>
                        <div class="metric-card clickable" onclick="agentManager.navigateToMetrics('quality')">
                            <h4>Quality Score</h4>
                            <div class="metric-value" id="dashboard-quality">87.2</div>
                            <div class="metric-change positive">‚Üó +3.1%</div>
                        </div>
                        <div class="metric-card clickable" onclick="agentManager.navigateToMetrics('dau')">
                            <h4>Daily Active Users</h4>
                            <div class="metric-value" id="dashboard-dau">12.5K</div>
                            <div class="metric-change positive">‚Üó +8%</div>
                        </div>
                        <div class="metric-card clickable" onclick="agentManager.navigateToMetrics('availability')">
                            <h4>Availability</h4>
                            <div class="metric-value" id="dashboard-availability">99.8%</div>
                            <div class="metric-change neutral">‚Üí 0.1%</div>
                        </div>
                    </div>

                    <!-- Agents Table -->
                    <div class="agents-table-container">
                        <table class="agents-table">
                            <thead>
                                <tr>
                                    <th>Agent Name</th>
                                    <th>Product</th>
                                    <th>Status</th>
                                    <th>Success Rate</th>
                                    <th>Last Active</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="agents-table-body">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Configure Agent View -->
            <div id="configure-view" class="view">
                <div class="configure-agent-container">
                    <div class="page-header">
                        <h2>Configure Agent - EmailAgent</h2>
                        <div class="agent-status">
                            <span class="status-badge active">Active</span>
                            <span class="version-info">Version 17</span>
                        </div>
                    </div>
                    
                    <!-- Navigation Tabs -->
                    <div class="configure-tabs">
                        <button class="tab-button active" onclick="agentManager.switchConfigureTab('details')">Details</button>
                        <button class="tab-button" onclick="agentManager.switchConfigureTab('ado')">ADO Tasks</button>
                        <button class="tab-button" onclick="agentManager.switchConfigureTab('features')">Features Progress</button>
                        <button class="tab-button" onclick="agentManager.switchConfigureTab('activity')">Activity History</button>
                        <button class="tab-button" onclick="agentManager.switchConfigureTab('agility')">Agility</button>
                    </div>
                    
                    <!-- Details Tab Content -->
                    <div id="configure-details-tab" class="tab-content active">
                        <div class="create-agent-container">
                            <div class="form-section">
                                <form class="agent-form">
                            <!-- Agent Information Section -->
                            <div class="form-section-header">
                                <h3>Information</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="config-short-name">Compliant Agent Name *</label>
                                    <input type="text" id="config-short-name" placeholder="Enter a unique name for this agent" value="EmailAgent" required>
                                    <small>Enter a unique name for this agent</small>
                                </div>
                                <div class="form-group">
                                    <label>Outline Icon</label>
                                    <div class="icon-upload">
                                        <div class="icon-placeholder">
                                            <span>+</span>
                                            <p>Upload Icon</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-agent-version">Version Number *</label>
                                <input type="text" id="config-agent-version" placeholder="e.g. 1.0.0" value="1.0.0" required>
                                <small>Enter the version number (e.g. 1.0.0)</small>
                            </div>
                            
                            <!-- Basic Metadata Section -->
                            <div class="form-section-header">
                                <h3>Basic Metadata</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-branch-name">Branch Name</label>
                                <input type="text" id="config-branch-name" placeholder="users/username/branchname" value="users/dannmchen/4test">
                                <small>Format: users/username/branchname</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-agent-description">Description</label>
                                <textarea id="config-agent-description" placeholder="Detailed description of the agent's purpose and functionality" rows="3">An intelligent email agent that helps users search, organize, and manage their email communications efficiently using natural language queries.</textarea>
                                <small>Detailed description of the agent's purpose and functionality</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-highest-ring">Highest Allowed Ring</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-dev" name="config-highest-ring" value="DEV" checked>
                                        <span>DEV</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-sdf" name="config-highest-ring" value="SDF">
                                        <span>SDF</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-msit" name="config-highest-ring" value="MSIT">
                                        <span>MSIT</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-ww" name="config-highest-ring" value="WW">
                                        <span>WW</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-gcc" name="config-highest-ring" value="GCC">
                                        <span>GCC</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-gcch" name="config-highest-ring" value="GCCH">
                                        <span>GCCH</span>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="config-ring-dod" name="config-highest-ring" value="DOD">
                                        <span>DOD</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Agent Type</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="config-agent-1p" name="config-agent-type" value="1P" checked>
                                        <span>1P</span>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="config-agent-3p" name="config-agent-type" value="3P">
                                        <span>3P</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-deployment-target-date">Deployment Target Date</label>
                                <input type="date" id="config-deployment-target-date" value="2025-12-01">
                                <small>Target date for agent deployment</small>
                            </div>
                            
                            <!-- Agent Details Section -->
                            <div class="form-section-header">
                                <h3>Agent Details</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-full-name">Display Name *</label>
                                <input type="text" id="config-full-name" placeholder="Enter the display name" value="Email Assistant" required>
                                <small>The name displayed to users</small>
                            </div>
                            
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="config-headless-agent" checked>
                                    <span class="checkmark">‚úì</span>
                                    Headless Agent (operates without user interface)
                                </label>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-agent-id">Agent ID</label>
                                <div class="input-with-button">
                                    <input type="text" id="config-agent-id" placeholder="Auto-generated unique identifier" value="email-assistant-v1" readonly>
                                    <button type="button" class="btn-secondary validate-btn">Validate</button>
                                </div>
                                <small>Unique identifier for the agent</small>
                            </div>
                            
                            <!-- App Store Section -->
                            <div class="form-section-header">
                                <h3>App Store Information</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-app-store-description">App Store Description</label>
                                <textarea id="config-app-store-description" placeholder="Description that will appear in the app store" rows="4">Transform your email management with this intelligent assistant. Search through your emails using natural language, get smart summaries, and organize your communications effortlessly. Perfect for busy professionals who need quick access to important email information.</textarea>
                                <small>Description shown in the app store (max 500 characters)</small>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="config-website-url">Website URL</label>
                                    <input type="url" id="config-website-url" placeholder="https://example.com" value="https://microsoft.com/emailagent">
                                    <small>Official website for the agent</small>
                                </div>
                                <div class="form-group">
                                    <label for="config-privacy-url">Privacy Policy URL</label>
                                    <input type="url" id="config-privacy-url" placeholder="https://example.com/privacy" value="https://privacy.microsoft.com">
                                    <small>Link to privacy policy</small>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-terms-url">Terms of Service URL</label>
                                <input type="url" id="config-terms-url" placeholder="https://example.com/terms" value="https://microsoft.com/terms">
                                <small>Link to terms of service</small>
                            </div>
                            
                            <!-- Application Details Section -->
                            <div class="form-section-header">
                                <h3>Application Details</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="config-application-id">Application ID</label>
                                    <input type="text" id="config-application-id" placeholder="AAD Application ID" value="12345678-1234-1234-1234-123456789012">
                                    <small>Azure AD Application ID</small>
                                </div>
                                <div class="form-group">
                                    <label for="config-title-id">Title ID</label>
                                    <input type="text" id="config-title-id" placeholder="Application Title ID" value="EMAIL001">
                                    <small>Unique title identifier</small>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-developer">Developer</label>
                                <input type="text" id="config-developer" placeholder="Developer name or organization" value="Microsoft Corporation">
                                <small>Name of the developer or organization</small>
                            </div>
                            
                            <!-- Plugin Selection Section -->
                            <div class="form-section-header">
                                <h3>Plugin Selection</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="config-plugin-features">Available Features</label>
                                <div class="plugin-selection">
                                    <select id="config-plugin-features" multiple size="6">
                                        <option value="canvas" selected>Canvas (Visual Design)</option>
                                        <option value="code_interpreter" selected>Code Interpreter</option>
                                        <option value="fetch_enterprise_chat">Enterprise Chat Integration</option>
                                        <option value="image_understanding">Image Understanding</option>
                                        <option value="email_search" selected>Email Search</option>
                                        <option value="calendar_integration">Calendar Integration</option>
                                        <option value="file_management">File Management</option>
                                        <option value="web_search">Web Search</option>
                                    </select>
                                    <small>3 Item(s) Selected</small>
                                </div>
                                <div class="form-note">
                                    Hold Ctrl (Cmd on Mac) to select multiple items
                                </div>
                            </div>
                            
                            <div class="plugin-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Plugin Name</th>
                                            <th>Version</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Canvas</td>
                                            <td>1.2.0</td>
                                            <td>Active</td>
                                        </tr>
                                        <tr>
                                            <td>Code Interpreter</td>
                                            <td>2.1.0</td>
                                            <td>Active</td>
                                        </tr>
                                        <tr>
                                            <td>Email Search</td>
                                            <td>1.0.5</td>
                                            <td>Active</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Form Actions -->
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="agentManager.switchView('dashboard')">Cancel</button>
                                <button type="button" class="btn-secondary save-draft-btn">Save as Draft</button>
                                <button type="button" class="btn-primary" onclick="agentManager.updateAgentConfiguration()">Update Configuration</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="manifest-section">
                        <h3>Manifest</h3>
                        <div class="manifest-editor">
                            <div class="editor-tabs">
                                <span class="editor-status">Auto-updating</span>
                            </div>
                            
                            <div class="code-editor">
                                <div class="line-numbers" id="config-manifest-line-numbers">
                                    <div>1</div>
                                    <div>2</div>
                                    <div>3</div>
                                    <div>4</div>
                                    <div>5</div>
                                    <div>6</div>
                                    <div>7</div>
                                    <div>8</div>
                                    <div>9</div>
                                    <div>10</div>
                                    <div>11</div>
                                    <div>12</div>
                                    <div>13</div>
                                    <div>14</div>
                                    <div>15</div>
                                    <div>16</div>
                                    <div>17</div>
                                    <div>18</div>
                                    <div>19</div>
                                    <div>20</div>
                                </div>
                                <div class="code-content">
                                    <pre id="config-manifest-code"><code>{
  "version": "1.0.0",
  "name": "EmailAgent",
  "display_name": "Email Assistant",
  "description": "An intelligent email agent that helps users search, organize, and manage their email communications efficiently using natural language queries.",
  "branch": "users/dannmchen/4test",
  "deployment_target": "2025-12-01",
  "highest_allowed_ring": "DEV",
  "agent_type": "1P",
  "parent_agent": {
    "name": "BaseChatAgent"
  },
  "patches": [
    {
      "op": "add",
      "path": "/chat/orchestration/plugins",
      "value": {
        "canvas": {},
        "code_interpreter": {},
        "email_search": {}
      }
    }
  ]
}</code></pre>
                                </div>
                            </div>
                            
                            <div class="validator-status">
                                <span class="validator-text">Valid JSON manifest</span>
                                <span class="format-indicator">JSON</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ADO Tasks Tab Content -->
            <div id="configure-ado-tab" class="tab-content">
                <div class="ado-tasks-container">
                    <div class="ado-header">
                        <div class="info-banner">
                            <span class="info-icon">‚ÑπÔ∏è</span>
                            <span>As the owner, you need to complete the following tasks first.</span>
                        </div>
                    </div>
                    
                    <div class="tasks-table-container">
                        <table class="tasks-table">
                            <thead>
                                <tr>
                                    <th>Task</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="task-item">
                                            <span class="task-icon">üìã</span>
                                            <div class="task-details">
                                                <div class="task-title">[photosagent] Copilot 1P Agent registration request</div>
                                                <div class="task-badges">
                                                    <span class="task-badge root">Root Task</span>
                                                    <span class="task-badge user-story">User Story</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="task-children">
                                            <div class="task-child">
                                                <span class="task-icon-small">üìù</span>
                                                <span>[photosagent] [Ring:MSIT] Enable TCS Assessment</span>
                                            </div>
                                            <div class="task-child">
                                                <span class="task-icon-small">üìù</span>
                                                <span>[photosagent] [Ring:MSIT] LLM Capacity Sign off</span>
                                            </div>
                                            <div class="task-child">
                                                <span class="task-icon-small">üß™</span>
                                                <span>[photosagent] [Ring:MSIT] DevUI E2E Testing</span>
                                            </div>
                                            <div class="task-child">
                                                <span class="task-icon-small">üìä</span>
                                                <span>[photosagent] [Ring:MSIT] Monitors & Dashboards</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="status-cell">
                                        <div class="status-message">
                                            The root task may fail to create for some reasons. 
                                            <a href="#" class="status-link">Click here to view the tasks and recreate them.</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Features Progress Tab Content -->
            <div id="configure-features-tab" class="tab-content">
                <div class="features-progress-container">
                    <div class="features-header">
                        <h3>Plugin Features Progress</h3>
                        <div class="progress-summary">
                            <span class="progress-text">3 of 3 features configured</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plugin-features-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Plugin Feature</th>
                                    <th>Plugin Name</th>
                                    <th>Plugin Key</th>
                                    <th>Status</th>
                                    <th>Progress</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="feature-item">
                                            <span class="feature-icon">üîç</span>
                                            <span>FileSearch</span>
                                        </div>
                                    </td>
                                    <td>File Search Plugin</td>
                                    <td><code>file_search</code></td>
                                    <td><span class="status-badge completed">Completed</span></td>
                                    <td>
                                        <div class="progress-bar-small">
                                            <div class="progress-fill-small" style="width: 100%"></div>
                                            <span class="progress-percentage">100%</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="feature-item">
                                            <span class="feature-icon">üé®</span>
                                            <span>Canvas</span>
                                        </div>
                                    </td>
                                    <td>Canvas Plugin</td>
                                    <td><code>canvas</code></td>
                                    <td><span class="status-badge completed">Completed</span></td>
                                    <td>
                                        <div class="progress-bar-small">
                                            <div class="progress-fill-small" style="width: 100%"></div>
                                            <span class="progress-percentage">100%</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="feature-item">
                                            <span class="feature-icon">üíª</span>
                                            <span>Code Interpreter</span>
                                        </div>
                                    </td>
                                    <td>Code Interpreter Plugin</td>
                                    <td><code>code_interpreter</code></td>
                                    <td><span class="status-badge completed">Completed</span></td>
                                    <td>
                                        <div class="progress-bar-small">
                                            <div class="progress-fill-small" style="width: 100%"></div>
                                            <span class="progress-percentage">100%</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Activity History Tab Content -->
            <div id="configure-activity-tab" class="tab-content">
                <div class="activity-history-container">
                    <div class="activity-header">
                        <h3>Activity History</h3>
                        <div class="activity-filters">
                            <select class="filter-select">
                                <option value="all">All Activities</option>
                                <option value="edits">Edits</option>
                                <option value="deployments">Deployments</option>
                                <option value="reviews">Reviews</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="activity-timeline">
                        <div class="activity-item">
                            <div class="activity-indicator active"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-status active">Active</span>
                                    <span class="activity-version">Version 17 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:29:34 AM</span>
                                </div>
                                <div class="activity-description">
                                    Updated agent configuration with new plugin integrations and deployment settings.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 17 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:29:24 AM</span>
                                </div>
                                <div class="activity-description">
                                    Modified email search plugin configuration and updated API endpoints.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 16 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:28:45 AM</span>
                                </div>
                                <div class="activity-description">
                                    Enhanced description and added new capability for natural language email queries.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 15 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:28:30 AM</span>
                                </div>
                                <div class="activity-description">
                                    Updated deployment target date and ring configuration settings.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 14 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:27:56 AM</span>
                                </div>
                                <div class="activity-description">
                                    Initial configuration setup with basic plugin selection and metadata.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 14 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:27:45 AM</span>
                                </div>
                                <div class="activity-description">
                                    Created agent from template with default email processing capabilities.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 13 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:26:52 AM</span>
                                </div>
                                <div class="activity-description">
                                    Added canvas integration for visual email composition features.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 13 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:26:41 AM</span>
                                </div>
                                <div class="activity-description">
                                    Refined agent description and updated compliance settings for enterprise deployment.
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div class="activity-content">
                                <div class="activity-header-row">
                                    <span class="activity-version">Version 12 - Edit</span>
                                    <span class="activity-timestamp">modified by zhcorey@microsoft.com at 9/1/2025, 1:26:18 AM</span>
                                </div>
                                <div class="activity-description">
                                    Initial agent creation with basic email processing workflow setup.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Agility Tab Content -->
            <div id="configure-agility-tab" class="tab-content">
                <div class="agility-container">
                    <div class="agility-header">
                        <h3>Pull Requests Status</h3>
                        <div class="pr-summary">
                            <span class="pr-count">1 active PR</span>
                        </div>
                    </div>
                    
                    <div class="error-banner">
                        <span class="error-icon">‚ö†Ô∏è</span>
                        <span class="error-text">Error fetching PR details</span>
                    </div>
                    
                    <div class="pr-table-container">
                        <table class="pr-table">
                            <thead>
                                <tr>
                                    <th>PR Id</th>
                                    <th>PR Title</th>
                                    <th>Branch Name</th>
                                    <th>Status</th>
                                    <th>Created By</th>
                                    <th>Creation Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>4399312</td>
                                    <td><a href="#" class="pr-link">4399312</a></td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pr-actions">
                        <button class="btn-secondary refresh-pr-btn">Refresh PR Data</button>
                        <button class="btn-primary create-pr-btn">Create New PR</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

            <!-- Create Agent View -->
            <div id="create-view" class="view">
                <div class="create-agent-container">
                    <div class="form-section">
                        <h2>Create New Agent</h2>
                        <form class="agent-form">
                            <!-- Agent Information Section -->
                            <div class="form-section-header">
                                <h3>Information</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compliant-agent-name">Compliant Agent Name *</label>
                                    <input type="text" id="compliant-agent-name" placeholder="Enter a unique name for this agent" value="EmailAgent" required>
                                    <small>Enter a unique name for this agent</small>
                                </div>
                                <div class="form-group">
                                    <label>Outline Icon</label>
                                    <div class="icon-upload">
                                        <div class="icon-placeholder">
                                            <span>+</span>
                                            <p>Upload Icon</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="version-number">Version Number *</label>
                                <input type="text" id="version-number" placeholder="Enter the version number (e.g. 1.0.0)" value="1.0.0" required>
                                <small>Enter the version number (e.g. 1.0.0)</small>
                                <p class="form-note">If the Name and Version you provided match an existing Agent in the Sydney repository, the Manifest will be retrieved directly from Sydney.</p>
                            </div>

                            <!-- Basic Metadata -->
                            <div class="form-section-header collapsible">
                                <h3>üîΩ Basic Metadata</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="branch-name">Branch Name</label>
                                <input type="text" id="branch-name" placeholder="users/username/branchname" value="users/prakulka/EmailAgent_1.0.0_onboarding">
                                <small>Format: users/username/branchname</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="agent-description">Description</label>
                                <textarea id="agent-description" placeholder="Detailed description of the agent's purpose and functionality" rows="2">This agent helps customers write emails</textarea>
                                <small>Detailed description of the agent's purpose and functionality</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="highest-allowed-ring">Highest Allowed Ring</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="DEV" checked>
                                        <span>DEV</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="SDF">
                                        <span>SDF</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="MSIT">
                                        <span>MSIT</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="WW">
                                        <span>WW</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="GCC">
                                        <span>GCC</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="GCCH">
                                        <span>GCCH</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="ring" value="DOD">
                                        <span>DOD</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="agent-type">Agent Type *</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="agent-type" value="1P" checked>
                                        <span>1P - First Party</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="agent-type" value="3P">
                                        <span>3P - Third Party</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="deployment-target-date">Deployment Target Date</label>
                                <input type="date" id="deployment-target-date" value="2025-09-30">
                            </div>

                            <!-- Appstore Metadata -->
                            <div class="form-section-header collapsible">
                                <h3>üîΩ Appstore Metadata</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="agent-id">Agent ID</label>
                                <input type="text" id="agent-id" placeholder="Unique identifier for the agent" value="5f980c03-2f92-4d4d-b5f2-010348e293d8">
                                <small>Unique identifier for the agent</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="website-url">Website URL</label>
                                <input type="url" id="website-url" placeholder="Public website URL (https://microsoft.com/...)">
                                <small>Public website URL (https://microsoft.com/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="privacy-url">Privacy URL</label>
                                <div class="input-with-button">
                                    <input type="url" id="privacy-url" placeholder="Link to privacy policy (https://microsoft.com/...)" value="https://go.microsoft.com/fwlink/?LinkId=521839">
                                    <button type="button" class="btn-secondary validate-btn">Validate</button>
                                </div>
                                <small>Link to privacy policy (https://microsoft.com/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="terms-url">Terms of Use URL</label>
                                <div class="input-with-button">
                                    <input type="url" id="terms-url" placeholder="Link to terms of use document (https://microsoft.com/...)" value="https://go.microsoft.com/fwlink/?LinkID=206977">
                                    <button type="button" class="btn-secondary validate-btn">Validate</button>
                                </div>
                                <small>Link to terms of use document (https://microsoft.com/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="app-store-description">App Store Description</label>
                                <textarea id="app-store-description" placeholder="Description for the app store listing" rows="2">Draft as 1P Agent</textarea>
                                <small>Description for the app store listing</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="application-id">Application ID</label>
                                <input type="text" id="application-id" placeholder="Unique identifier for the application" value="EmailAgent">
                                <small>Unique identifier for the application</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="title-id">Title ID</label>
                                <input type="text" id="title-id" placeholder="Unique identifier for the title" value="EmailAgent">
                                <small>Unique identifier for the title</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="developer">Developer</label>
                                <input type="text" id="developer" placeholder="Name of the developer or team responsible for the agent" value="Microsoft">
                                <small>Name of the developer or team responsible for the agent</small>
                            </div>

                            <!-- Operations Metadata -->
                            <div class="form-section-header collapsible">
                                <h3>üîΩ Operations Metadata</h3>
                            </div>

                            <!-- Invocation Context -->
                            <div class="form-section-header collapsible">
                                <h3>üîΩ Invocation Context [Product Taxonomy]</h3>
                            </div>

                            <!-- IFeature Config -->
                            <div class="form-section-header collapsible expanded">
                                <h3>üîΩ IFeature Config</h3>
                            </div>
                            
                            <div class="form-group">
                                <label for="plugin-features">Plugin Features</label>
                                <div class="plugin-selection">
                                    <select id="plugin-features" multiple>
                                        <option value="canvas" selected>Canvas</option>
                                        <option value="code_interpreter" selected>CodeInterpreter</option>
                                        <option value="fetch_enterprise_chat" selected>FetchEnterpriseChat</option>
                                        <option value="image_understanding" selected>ImageUnderstanding</option>
                                    </select>
                                    <small>4 Item(s) Selected</small>
                                </div>
                                
                                <div class="plugin-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Plugin Id</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Canvas</td>
                                                <td>canvas</td>
                                            </tr>
                                            <tr>
                                                <td>CodeInterpreter</td>
                                                <td>code_interpreter</td>
                                            </tr>
                                            <tr>
                                                <td>FetchEnterpriseChat</td>
                                                <td>fetch_enterprise_chat</td>
                                            </tr>
                                            <tr>
                                                <td>ImageUnderstanding</td>
                                                <td>image_understanding</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Store Plugin as Feature</label>
                                <p class="coming-soon">Coming Soon</p>
                            </div>
                            
                            <div class="form-group">
                                <label>Other IFeatures</label>
                                <p class="coming-soon">Coming Soon</p>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="showDashboard()">Cancel</button>
                                <button type="button" class="btn-secondary save-draft-btn">Save Draft</button>
                                <button type="submit" class="btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>

                    <div class="manifest-section">
                        <h3>Manifest</h3>
                        <div class="manifest-editor">
                            <div class="editor-tabs">
                                <button class="tab-btn active">Editor</button>
                                <span class="editor-status">UNS...</span>
                                <div class="editor-actions">
                                    <button class="btn-icon" title="Undo">‚Ü∂</button>
                                    <button class="btn-icon" title="Redo">‚Ü∑</button>
                                    <button class="btn-icon" title="Settings">‚öôÔ∏è</button>
                                    <button class="btn-primary save-draft">Save as draft</button>
                                </div>
                            </div>
                            
                            <div class="code-editor">
                                <div class="line-numbers" id="manifest-line-numbers">
                                    <div>1</div>
                                    <div>2</div>
                                    <div>3</div>
                                    <div>4</div>
                                    <div>5</div>
                                    <div>6</div>
                                    <div>7</div>
                                    <div>8</div>
                                    <div>9</div>
                                    <div>10</div>
                                    <div>11</div>
                                    <div>12</div>
                                    <div>13</div>
                                    <div>14</div>
                                    <div>15</div>
                                    <div>16</div>
                                    <div>17</div>
                                    <div>18</div>
                                </div>
                                <div class="code-content">
                                    <pre><code id="manifest-code">{
  "version": "1.0.0",
  "parent_agent": {
    "name": "BaseChatAgent"
  },
  "patches": [
    {
      "op": "add",
      "path": "/chat/orchestration/plugins",
      "value": {
        "canvas": {},
        "code_interpreter": {},
        "fetch_enterprise_chat": {},
        "image_understanding": {}
      }
    }
  ]
}</code></pre>
                                </div>
                            </div>
                            
                            <div class="validator-status">
                                <span class="validator-text">No validator selected</span>
                                <span class="format-indicator">JSON</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Metrics View -->
            <div id="metrics-view" class="view">
                <div class="metrics-dashboard">
                    <h2>Agent Performance Analytics</h2>
                    
                    <div class="metrics-controls">
                        <div class="control-group">
                            <label for="time-filter">Time Range</label>
                            <select id="time-filter" class="time-filter">
                                <option value="7d">Last 7 days</option>
                                <option value="30d" selected>Last 30 days</option>
                                <option value="90d">Last 90 days</option>
                                <option value="6m">Last 6 months</option>
                                <option value="1y">Last year</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="agent-filter">Agent</label>
                            <select id="agent-filter" class="agent-filter">
                                <option value="">All Agents</option>
                                <option value="emailagent">EmailAgent</option>
                                <option value="bizchat">BizChat</option>
                                <option value="learningagent">LearningAgent</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="ring-filter">Ring</label>
                            <select id="ring-filter" class="ring-filter">
                                <option value="">All Rings</option>
                                <option value="DEV">DEV</option>
                                <option value="SDF">SDF</option>
                                <option value="MSIT">MSIT</option>
                                <option value="WW">WW</option>
                            </select>
                        </div>
                        <button class="btn-secondary refresh-btn" onclick="agentManager.refreshMetrics()">Refresh Data</button>
                    </div>

                    <!-- Key Performance Indicators -->
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-value" id="kpi-engagement">2.4</div>
                            <div class="kpi-label">Avg Engagement</div>
                            <div class="kpi-trend positive">‚Üó +12%</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-value" id="kpi-quality">87.2</div>
                            <div class="kpi-label">Quality Score</div>
                            <div class="kpi-trend positive">‚Üó +3.1%</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-value" id="kpi-dau">12.5K</div>
                            <div class="kpi-label">Daily Active Users</div>
                            <div class="kpi-trend positive">‚Üó +8%</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-value" id="kpi-availability">99.8%</div>
                            <div class="kpi-label">Availability</div>
                            <div class="kpi-trend neutral">‚Üí 0.1%</div>
                        </div>
                    </div>

                    <!-- Main Charts Grid -->
                    <div class="charts-grid">
                        <!-- Engagement Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Engagement</h3>
                                <p>Average meaningful actions per active user per day</p>
                            </div>
                            <canvas id="engagementChart"></canvas>
                        </div>
                        
                        <!-- Quality Score -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Quality</h3>
                                <p>Composite score of eval metrics</p>
                            </div>
                            <canvas id="qualityChart"></canvas>
                        </div>
                        
                        <!-- Active User Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Active User Trend</h3>
                                <p>Daily, Weekly, and Monthly Active Users</p>
                            </div>
                            <canvas id="activeUserChart"></canvas>
                        </div>
                        
                        <!-- Citation Rate Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Citation Rate Trend</h3>
                                <p>% of responses that include at least one citation</p>
                            </div>
                            <canvas id="citationChart"></canvas>
                        </div>
                        
                        <!-- Queries Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Queries Trend</h3>
                                <p>Total queries issued over time</p>
                            </div>
                            <canvas id="queriesChart"></canvas>
                        </div>
                        
                        <!-- Queries Per UU Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Queries Per UU Trend</h3>
                                <p>Average queries per unique user</p>
                            </div>
                            <canvas id="queriesPerUUChart"></canvas>
                        </div>
                        
                        <!-- Availability Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Availability Trend</h3>
                                <p>Successful requests vs total requests</p>
                            </div>
                            <canvas id="availabilityChart"></canvas>
                        </div>
                        
                        <!-- SAT Rate Trend -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>SAT Rate Trend</h3>
                                <p>% of ratings marked SAT (thumbs up or ‚â•4/5)</p>
                            </div>
                            <canvas id="satRateChart"></canvas>
                        </div>
                        
                        <!-- Thumbs Up Per 100K Queries -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Thumbs Up Per 100K Queries</h3>
                                <p>Positive feedback rate normalized</p>
                            </div>
                            <canvas id="thumbsUpChart"></canvas>
                        </div>
                        
                        <!-- Thumbs Down Per 100K Queries -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Thumbs Down Per 100K Queries</h3>
                                <p>Negative feedback rate normalized</p>
                            </div>
                            <canvas id="thumbsDownChart"></canvas>
                        </div>
                        
                        <!-- Feedback Analysis -->
                        <div class="chart-container feedback-container">
                            <div class="chart-header">
                                <h3>Feedback</h3>
                                <p>Volume and themes of user-submitted feedback</p>
                                <div class="feedback-controls">
                                    <button class="btn-toggle active" data-view="chart">Chart View</button>
                                    <button class="btn-toggle" data-view="wordcloud">Word Cloud</button>
                                    <button class="btn-toggle" data-view="table">Table View</button>
                                </div>
                            </div>
                            <div class="feedback-content">
                                <canvas id="feedbackChart" class="feedback-view active"></canvas>
                                <div id="feedbackWordcloud" class="feedback-view">
                                    <div class="wordcloud-container">
                                        <span class="word-large">helpful</span>
                                        <span class="word-medium">accurate</span>
                                        <span class="word-small">slow</span>
                                        <span class="word-medium">relevant</span>
                                        <span class="word-large">excellent</span>
                                        <span class="word-small">confusing</span>
                                        <span class="word-medium">useful</span>
                                        <span class="word-small">error</span>
                                        <span class="word-large">great</span>
                                        <span class="word-medium">responsive</span>
                                    </div>
                                </div>
                                <div id="feedbackTable" class="feedback-view">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Category</th>
                                                <th>Count</th>
                                                <th>Percentage</th>
                                                <th>Trend</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Positive</td>
                                                <td>1,234</td>
                                                <td>68%</td>
                                                <td class="trend-up">‚Üó +5%</td>
                                            </tr>
                                            <tr>
                                                <td>Neutral</td>
                                                <td>423</td>
                                                <td>23%</td>
                                                <td class="trend-down">‚Üò -2%</td>
                                            </tr>
                                            <tr>
                                                <td>Negative</td>
                                                <td>163</td>
                                                <td>9%</td>
                                                <td class="trend-down">‚Üò -3%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Retention Analysis -->
                        <div class="chart-container retention-container">
                            <div class="chart-header">
                                <h3>Retention</h3>
                                <p>% of users returning after n days (D1, D7, D30)</p>
                                <div class="retention-controls">
                                    <button class="btn-toggle active" data-view="heatmap">Cohort Heatmap</button>
                                    <button class="btn-toggle" data-view="ratio">WAU/MAU Ratio</button>
                                </div>
                            </div>
                            <div class="retention-content">
                                <div id="retentionHeatmap" class="retention-view active">
                                    <div class="heatmap-container">
                                        <div class="heatmap-legend">
                                            <span>0%</span>
                                            <div class="legend-bar"></div>
                                            <span>100%</span>
                                        </div>
                                        <div class="heatmap-grid">
                                            <div class="heatmap-labels">
                                                <div class="label">Week 1</div>
                                                <div class="label">Week 2</div>
                                                <div class="label">Week 3</div>
                                                <div class="label">Week 4</div>
                                            </div>
                                            <div class="heatmap-data">
                                                <div class="heatmap-row">
                                                    <div class="cell high" data-value="85%">85%</div>
                                                    <div class="cell medium" data-value="62%">62%</div>
                                                    <div class="cell medium" data-value="45%">45%</div>
                                                    <div class="cell low" data-value="32%">32%</div>
                                                </div>
                                                <div class="heatmap-row">
                                                    <div class="cell high" data-value="82%">82%</div>
                                                    <div class="cell medium" data-value="58%">58%</div>
                                                    <div class="cell medium" data-value="41%">41%</div>
                                                    <div class="cell low" data-value="28%">28%</div>
                                                </div>
                                                <div class="heatmap-row">
                                                    <div class="cell high" data-value="88%">88%</div>
                                                    <div class="cell medium" data-value="65%">65%</div>
                                                    <div class="cell medium" data-value="48%">48%</div>
                                                    <div class="cell low" data-value="35%">35%</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <canvas id="retentionRatioChart" class="retention-view"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Metrics Table -->
                    <div class="detailed-metrics">
                        <h3>Detailed Performance Metrics</h3>
                        <div class="metrics-table-container">
                            <table class="metrics-table">
                                <thead>
                                    <tr>
                                        <th>Agent</th>
                                        <th>Success Rate</th>
                                        <th>Quality Score</th>
                                        <th>Engagement</th>
                                        <th>DAU</th>
                                        <th>Citation Rate</th>
                                        <th>Availability</th>
                                        <th>SAT Rate</th>
                                    </tr>
                                </thead>
                                <tbody id="metrics-table-body">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Playground View -->
            <div id="playground-view" class="view">
                <div class="evaluation-container">
                    <div class="evaluation-header">
                        <h2>Evaluation</h2>
                        <div class="session-info">
                            <span class="session-label">Session</span>
                            <span class="session-name">New Evaluation</span>
                            <div class="header-actions">
                                <button class="btn-icon" title="Share"><span>üë§</span></button>
                                <button class="btn-icon" title="Lock"><span>üîí</span></button>
                                <button class="btn-icon" title="Copy"><span>üìã</span></button>
                                <button class="btn-icon" title="Export"><span>‚¨ÜÔ∏è</span></button>
                                <button class="btn-icon" title="Download"><span>‚¨áÔ∏è</span></button>
                                <button class="btn-icon" title="Comments"><span>üí¨</span></button>
                                <button class="btn-icon" title="Print"><span>üñ®Ô∏è</span></button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Evaluation Tabs -->
                    <div class="evaluation-tabs">
                        <button class="eval-tab active" onclick="agentManager.switchEvaluationTab('rating')">Rating Based</button>
                        <button class="eval-tab" onclick="agentManager.switchEvaluationTab('sidebyside')">Side-By-Side</button>
                        <button class="eval-tab" onclick="agentManager.switchEvaluationTab('model')">Model Comparison</button>
                        <button class="eval-tab" onclick="agentManager.switchEvaluationTab('response')">Response Comparison</button>
                    </div>
                    
                    <div class="evaluation-content">
                        <!-- Rating Based Tab -->
                        <div id="rating-tab" class="eval-tab-content active">
                            <div class="evaluation-layout">
                                <!-- Left Panel - Prompts List -->
                                <div class="prompts-panel">
                                    <div class="prompts-header">
                                        <h3>Prompts</h3>
                                    </div>
                                    
                                    <div class="prompts-table-container">
                                        <table class="prompts-table">
                                            <thead>
                                                <tr>
                                                    <th><input type="checkbox" class="select-all"></th>
                                                    <th>#</th>
                                                    <th>Name</th>
                                                    <th>Prompt</th>
                                                    <th><button class="btn-icon-small">üìä</button></th>
                                                    <th><button class="btn-icon-small">‚≠ê</button></th>
                                                    <th>Model</th>
                                                    <th>Temperature</th>
                                                    <th>Final Score</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="prompt-row active" onclick="agentManager.selectPrompt(1)">
                                                    <td><input type="checkbox"></td>
                                                    <td>1</td>
                                                    <td>Email Assistant Test</td>
                                                    <td class="prompt-preview">You are an email assistant that helps users...</td>
                                                    <td><button class="btn-icon-small">üìä</button></td>
                                                    <td><button class="btn-icon-small">‚≠ê</button></td>
                                                    <td>dev-gpt-4</td>
                                                    <td>0.3</td>
                                                    <td><span class="score-badge">8.5</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <!-- Right Panel - Prompt Details -->
                                <div class="prompt-details-panel">
                                    <div class="prompt-header">
                                        <div class="prompt-info">
                                            <h3>Prompt 1</h3>
                                            <span class="prompt-badge">New Prompt</span>
                                        </div>
                                        <div class="prompt-actions">
                                            <button class="btn-icon" title="Copy"><span>üìã</span></button>
                                            <button class="btn-icon" title="Share"><span>üîó</span></button>
                                            <button class="btn-icon" title="Edit"><span>‚úèÔ∏è</span></button>
                                            <button class="btn-icon" title="Delete"><span>üóëÔ∏è</span></button>
                                        </div>
                                    </div>
                                    
                                    <div class="chat-interface">
                                        <div class="chat-mode-toggle">
                                            <div class="toggle-option">
                                                <span class="toggle-label">Custom Template</span>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked>
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="chat-mode-info">
                                                <span class="mode-label">Chat Mode</span>
                                                <span class="completion-label">Chat Completion</span>
                                                <button class="btn-icon-small">üìã</button>
                                            </div>
                                        </div>
                                        
                                        <div class="message-input-section">
                                            <div class="input-header">
                                                <button class="btn-outline add-message-btn">
                                                    <span>üó®Ô∏è</span> Add Message
                                                </button>
                                                <button class="btn-outline generate-prompt-btn">
                                                    <span>‚ö°</span> Generate System Prompt
                                                </button>
                                                <button class="btn-outline add-message-btn-alt">
                                                    Add Message <span>üìÇ</span>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Model Configuration Panel -->
                                        <div class="model-config-panel">
                                            <div class="model-selector">
                                                <label>Custom Template Model</label>
                                                <select class="model-select">
                                                    <option value="dev-gpt-41-shortco-2025-04-14">dev-gpt-41-shortco-2025-04-14</option>
                                                    <option value="gpt-4-turbo">GPT-4 Turbo</option>
                                                    <option value="gpt-35-turbo">GPT-3.5 Turbo</option>
                                                </select>
                                                <button class="btn-icon-small">üìã</button>
                                            </div>
                                            
                                            <div class="model-parameters">
                                                <div class="parameter-group">
                                                    <label>Temperature</label>
                                                    <div class="slider-container">
                                                        <input type="range" min="0" max="2" step="0.1" value="0.3" class="parameter-slider">
                                                        <span class="parameter-value">0.3</span>
                                                        <button class="btn-icon-small">üìã</button>
                                                    </div>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Max Tokens</label>
                                                    <div class="slider-container">
                                                        <input type="range" min="1" max="4096" step="1" value="200" class="parameter-slider">
                                                        <span class="parameter-value">200</span>
                                                        <button class="btn-icon-small">üìã</button>
                                                    </div>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Top P</label>
                                                    <div class="slider-container">
                                                        <input type="range" min="0" max="1" step="0.01" value="1" class="parameter-slider">
                                                        <span class="parameter-value">1</span>
                                                        <button class="btn-icon-small">üìã</button>
                                                    </div>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Frequency Penalty</label>
                                                    <div class="slider-container">
                                                        <input type="range" min="-2" max="2" step="0.01" value="0" class="parameter-slider">
                                                        <span class="parameter-value">0</span>
                                                        <button class="btn-icon-small">üìã</button>
                                                    </div>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Presence Penalty</label>
                                                    <div class="slider-container">
                                                        <input type="range" min="-2" max="2" step="0.01" value="0" class="parameter-slider">
                                                        <span class="parameter-value">0</span>
                                                        <button class="btn-icon-small">üìã</button>
                                                    </div>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Stop Sequences</label>
                                                    <input type="text" placeholder="New Sequence" class="stop-sequence-input">
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label>Seed</label>
                                                    <input type="number" class="seed-input">
                                                    <button class="btn-icon-small">üìã</button>
                                                </div>
                                                
                                                <div class="parameter-group">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" class="stream-response">
                                                        <span>Stream Response</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Other Tab Contents (placeholders) -->
                        <div id="sidebyside-tab" class="eval-tab-content">
                            <div class="coming-soon">
                                <h3>Side-By-Side Evaluation</h3>
                                <p>Compare two models or prompts side by side</p>
                            </div>
                        </div>
                        
                        <div id="model-tab" class="eval-tab-content">
                            <div class="coming-soon">
                                <h3>Model Comparison</h3>
                                <p>Compare performance across different models</p>
                            </div>
                        </div>
                        
                        <div id="response-tab" class="eval-tab-content">
                            <div class="coming-soon">
                                <h3>Response Comparison</h3>
                                <p>Analyze and compare model responses</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- T-Prompt View -->
            <div id="tprompt-view" class="view">
                <div class="tprompt-container">
                    <h2>T-Prompt Optimization</h2>
                    <p>Optimize your agent prompts for better performance</p>
                    
                    <div class="tprompt-layout">
                        <div class="prompt-editor">
                            <h3>Prompt Editor</h3>
                            <div class="form-group">
                                <label for="current-prompt">Current Prompt</label>
                                <textarea id="current-prompt" rows="8" placeholder="Enter your agent prompt here..."></textarea>
                            </div>
                            
                            <div class="prompt-tools">
                                <button class="btn-outline" onclick="analyzePrompt()">Analyze Prompt</button>
                                <button class="btn-outline" onclick="suggestImprovements()">Suggest Improvements</button>
                                <button class="btn-primary" onclick="optimizePrompt()">Optimize Prompt</button>
                            </div>
                        </div>
                        
                        <div class="prompt-analysis">
                            <h3>Analysis Results</h3>
                            <div id="analysis-results" class="analysis-content">
                                <div class="analysis-section">
                                    <h4>Prompt Quality Score</h4>
                                    <div class="score-display">
                                        <div class="score-circle">
                                            <span class="score-value">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="analysis-section">
                                    <h4>Improvement Suggestions</h4>
                                    <ul id="suggestions-list" class="suggestions">
                                        <li class="placeholder">Analyze your prompt to see suggestions</li>
                                    </ul>
                                </div>
                                
                                <div class="analysis-section">
                                    <h4>Performance Metrics</h4>
                                    <div class="performance-grid">
                                        <div class="performance-item">
                                            <span class="perf-label">Clarity:</span>
                                            <span class="perf-score" id="clarity-score">-</span>
                                        </div>
                                        <div class="performance-item">
                                            <span class="perf-label">Specificity:</span>
                                            <span class="perf-score" id="specificity-score">-</span>
                                        </div>
                                        <div class="performance-item">
                                            <span class="perf-label">Context:</span>
                                            <span class="perf-score" id="context-score">-</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Onboarding Overlay -->
    <div id="onboarding-overlay" class="onboarding-overlay">
        <div class="onboarding-modal">
            <div class="onboarding-header">
                <h2>Welcome to Copilot Platform Nexus!</h2>
                <button class="close-onboarding" onclick="agentManager.closeOnboarding()">√ó</button>
            </div>
            
            <div class="onboarding-content">
                <div class="onboarding-step active" data-step="welcome">
                    <div class="onboarding-agent" onclick="agentManager.interactWithAgent('welcome')">
                        <div class="agent-avatar interactive">ü§ñ</div>
                        <div class="agent-message">
                            <h3>Hi! I'm your AI Agent Assistant</h3>
                            <p>I'm here to guide you through creating and managing your AI agents. Let me show you how to get started with the agent lifecycle!</p>
                            <span class="agent-hint">Click me for tips! üí°</span>
                        </div>
                    </div>
                    <div class="onboarding-features">
                        <div class="feature-preview" onclick="agentManager.onboardingPreviewAction('create')">
                            <span class="feature-icon">üéØ</span>
                            <div>
                                <h4>Create Agents</h4>
                                <p>Build custom AI agents with our intuitive form</p>
                                <span class="preview-action">Click to explore ‚Üí</span>
                            </div>
                        </div>
                        <div class="feature-preview" onclick="agentManager.onboardingPreviewAction('configure')">
                            <span class="feature-icon">‚öôÔ∏è</span>
                            <div>
                                <h4>Configure & Deploy</h4>
                                <p>Set up plugins, permissions, and deployment settings</p>
                                <span class="preview-action">Click to explore ‚Üí</span>
                            </div>
                        </div>
                        <div class="feature-preview" onclick="agentManager.onboardingPreviewAction('monitor')">
                            <span class="feature-icon">üìä</span>
                            <div>
                                <h4>Monitor Performance</h4>
                                <p>Track metrics and optimize your agents</p>
                                <span class="preview-action">Click to explore ‚Üí</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="onboarding-step" data-step="lifecycle">
                    <div class="onboarding-agent" onclick="agentManager.interactWithAgent('lifecycle')">
                        <div class="agent-avatar interactive">ü§ñ</div>
                        <div class="agent-message">
                            <h3>The Agent Lifecycle</h3>
                            <p>Every successful agent follows these key steps. I'll guide you through each one!</p>
                            <span class="agent-hint">Click steps below to explore! üëá</span>
                        </div>
                    </div>
                    <div class="lifecycle-preview">
                        <div class="lifecycle-step-preview" data-step="create" onclick="agentManager.onboardingLifecycleAction('create')">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Create Agent</h4>
                                <p>Define your agent's purpose, capabilities, and basic settings</p>
                                <span class="step-action">Try it now ‚Üí</span>
                            </div>
                        </div>
                        <div class="lifecycle-step-preview" data-step="configure" onclick="agentManager.onboardingLifecycleAction('configure')">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Configure Agent</h4>
                                <p>Set up plugins, permissions, and advanced configurations</p>
                                <span class="step-action">See example ‚Üí</span>
                            </div>
                        </div>
                        <div class="lifecycle-step-preview" data-step="evaluate" onclick="agentManager.onboardingLifecycleAction('evaluate')">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Evaluate & Test</h4>
                                <p>Test your agent's responses and fine-tune prompts</p>
                                <span class="step-action">Explore ‚Üí</span>
                            </div>
                        </div>
                        <div class="lifecycle-step-preview" data-step="deploy" onclick="agentManager.onboardingLifecycleAction('deploy')">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Deploy</h4>
                                <p>Launch your agent to users and monitor rollout</p>
                                <span class="step-action">View process ‚Üí</span>
                            </div>
                        </div>
                        <div class="lifecycle-step-preview" data-step="monitor" onclick="agentManager.onboardingLifecycleAction('monitor')">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h4>Monitor</h4>
                                <p>Track performance metrics and user feedback</p>
                                <span class="step-action">See metrics ‚Üí</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="onboarding-step" data-step="templates">
                    <div class="onboarding-agent" onclick="agentManager.interactWithAgent('templates')">
                        <div class="agent-avatar interactive">ü§ñ</div>
                        <div class="agent-message">
                            <h3>Start with Templates</h3>
                            <p>Want to get started quickly? Try one of our pre-built agent templates!</p>
                            <span class="agent-hint">Click any template to try it! ‚¨áÔ∏è</span>
                        </div>
                    </div>
                    <div class="template-previews">
                        <div class="template-preview" onclick="agentManager.onboardingTemplateAction('sales')">
                            <span class="template-icon">üíº</span>
                            <h4>Sales Agent</h4>
                            <p>Customer outreach and lead qualification</p>
                            <span class="template-action">Try template ‚Üí</span>
                        </div>
                        <div class="template-preview" onclick="agentManager.onboardingTemplateAction('research')">
                            <span class="template-icon">üîç</span>
                            <h4>Research Agent</h4>
                            <p>Information gathering and analysis</p>
                            <span class="template-action">Try template ‚Üí</span>
                        </div>
                        <div class="template-preview" onclick="agentManager.onboardingTemplateAction('email')">
                            <span class="template-icon">üìß</span>
                            <h4>Email Agent</h4>
                            <p>Email management and organization</p>
                            <span class="template-action">Try template ‚Üí</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="onboarding-navigation">
                <button class="btn-secondary prev-btn" onclick="agentManager.previousOnboardingStep()" disabled>Previous</button>
                <div class="onboarding-dots">
                    <span class="dot active" data-step="0" onclick="agentManager.goToOnboardingStep(0)" title="Welcome"></span>
                    <span class="dot" data-step="1" onclick="agentManager.goToOnboardingStep(1)" title="Lifecycle"></span>
                    <span class="dot" data-step="2" onclick="agentManager.goToOnboardingStep(2)" title="Templates"></span>
                </div>
                <button class="btn-primary next-btn" onclick="agentManager.nextOnboardingStep()">Next</button>
            </div>
        </div>
    </div>

    <!-- Step Instructions Tooltip -->
    <div id="step-tooltip" class="step-tooltip">
        <div class="tooltip-header">
            <span class="tooltip-title"></span>
            <button class="close-tooltip" onclick="agentManager.hideStepTooltip()">√ó</button>
        </div>
        <div class="tooltip-content">
            <div class="tooltip-agent">
                <div class="agent-avatar-small">ü§ñ</div>
                <div class="tooltip-message"></div>
            </div>
            <div class="tooltip-actions">
                <button class="btn-small btn-secondary" onclick="agentManager.hideStepTooltip()">Got it</button>
                <button class="btn-small btn-primary tooltip-action-btn"></button>
            </div>
        </div>
    </div>

    <!-- Help Widget -->
    <div class="help-widget">
        <button class="help-toggle" onclick="agentManager.toggleHelp()">
            <span class="help-icon">?</span>
        </button>
        <div class="help-menu">
            <div class="help-item" onclick="agentManager.showOnboarding()">
                <span class="help-item-icon">üéØ</span>
                <span>Take Tour Again</span>
            </div>
            <div class="help-item" onclick="agentManager.showStepGuide()">
                <span class="help-item-icon">üìã</span>
                <span>Step-by-Step Guide</span>
            </div>
            <div class="help-item" onclick="agentManager.showVideoTutorials()">
                <span class="help-item-icon">üé•</span>
                <span>Video Tutorials</span>
            </div>
            <div class="help-item" onclick="agentManager.showDocumentation()">
                <span class="help-item-icon">üìñ</span>
                <span>Documentation</span>
            </div>
            <div class="help-item" onclick="agentManager.contactSupport()">
                <span class="help-item-icon">üí¨</span>
                <span>Contact Support</span>
            </div>
        </div>
    </div>

    <script src="script.js"></script></script>
</body>
</html>
